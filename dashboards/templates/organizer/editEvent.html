<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Event - the-Wow</title>
</head>

<body
    style="margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 40px 20px; box-sizing: border-box;">

    <!-- Header -->
    <div
        style="max-width: 900px; margin: 0 auto 30px; display: flex; align-items: center; justify-content: space-between;">
        <div style="display: flex; align-items: center; gap: 15px;">
            <div
                style="background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <span style="font-size: 24px;">‚úèÔ∏è</span>
            </div>
            <h1 style="margin: 0; color: white; font-size: 28px; font-weight: 700;">Edit Event</h1>
        </div>
        <a href="{% url 'view_event' event.pk %}"
            style="background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); padding: 10px 20px; border-radius: 10px; color: white; text-decoration: none; font-size: 14px; font-weight: 600; transition: all 0.3s;"
            onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'"
            onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'">
            ‚Üê Cancel
        </a>
    </div>

    <!-- Main Container -->
    <div
        style="max-width: 900px; margin: 0 auto; background: rgba(255, 255, 255, 0.95); border-radius: 20px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); backdrop-filter: blur(10px); overflow: hidden;">
        <!-- Status Banner -->
        <div
            style="background: #fef3c7; padding: 15px 40px; border-bottom: 2px solid #fbbf24; display: flex; align-items: center; gap: 12px;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#d97706" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                </path>
                <line x1="12" y1="9" x2="12" y2="13"></line>
                <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
            <p style="margin: 0; color: #92400e; font-size: 14px; font-weight: 600;">You are editing an existing event.
                Changes will be reflected immediately after saving.</p>
        </div>

        <!-- Form Content -->
        <form method="POST" enctype="multipart/form-data" style="max-width: 700px; margin: auto;">
            {% csrf_token %}

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; color: #2d3748; font-size: 14px; font-weight: 600;">
                    Cover Image
                </label>

                <!-- File Input Container -->
                <div style="position: relative; border: 3px dashed #cbd5e0; border-radius: 12px; padding: 30px; text-align: center; cursor: pointer; transition: all 0.3s; background: #f7fafc;"
                    onmouseover="this.style.borderColor='#667eea'; this.style.background='#edf2f7'"
                    onmouseout="this.style.borderColor='#cbd5e0'; this.style.background='#f7fafc'"
                    onclick="document.getElementById('coverImageInput').click()">
                    <div style="font-size: 48px; margin-bottom: 15px;">üì∏</div>
                    <p style="margin: 0 0 8px; color: #4a5568; font-size: 15px; font-weight: 600;">Click to upload or
                        drag and drop</p>
                    <p style="margin: 0; color: #a0aec0; font-size: 13px;">PNG, JPG or JPEG (max. 5MB)</p>
                    <input type="file" name="cover_image" id="coverImageInput" accept="image/*" style="display: none;">
                </div>

                <!-- Image Preview (hidden by default) -->
                <div id="imagePreview"
                    style="display: none; margin-top: 15px; border-radius: 12px; overflow: hidden; position: relative;">
                    <img id="previewImg" style="width: 100%; height: 200px; object-fit: cover; display: block;">
                    <button type="button" onclick="removeImage()"
                        style="position: absolute; top: 10px; right: 10px; background: rgba(0, 0, 0, 0.7); color: white; border: none; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; font-size: 18px; display: flex; align-items: center; justify-content: center; font-weight: 700;">√ó</button>
                </div>
            </div>

            <!-- Title -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Event Title
                </label>
                <input type="text" name="title" value="{{ form.title.value|default:'' }}"
                    placeholder="Enter event title" style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0; border-radius: 10px;
            font-size: 15px; outline: none; transition: 0.3s;">
            </div>

            <!-- Category -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Category
                </label>
                <select name="category" style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0;
            border-radius: 10px; font-size: 15px;">
                    {% for choice in form.category.field.choices %}
                    <option value="{{ form.category.value }}" 
                    {% if form.category.value == choice.0 %} selected {% endif%}>
                        {{ choice.1 }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Date -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Event Date
                </label>
                <input type="date" name="date" value="{{ form.date.value|default:'' }}" style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0;
            border-radius: 10px; font-size: 15px;">
            </div>

            <!-- Time -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Event Time
                </label>
                <input type="time" name="time" value="{{ form.time.value|default:'' }}" style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0;
            border-radius: 10px; font-size: 15px;">
            </div>

            <!-- Location -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Location
                </label>
                <input type="text" name="location" value="{{ form.location.value|default:'' }}"
                    placeholder="Enter event location" style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0;
            border-radius: 10px; font-size: 15px;">
            </div>

            <!-- Venue -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Venue
                </label>
                <input type="text" name="location" value="{{ form.venue.value|default:'' }}"
                    placeholder="Enter event location" style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0;
            border-radius: 10px; font-size: 15px;">
            </div>

            <!-- Description -->
            <div style="margin-bottom: 25px;">
                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2d3748;">
                    Description
                </label>
                <textarea name="description" rows="4" placeholder="Describe your event..." style="width: 100%; padding: 14px 16px; border: 2px solid #e2e8f0;
            border-radius: 10px; font-size: 15px; resize: none;">{{ form.description.value|default:'' }}</textarea>
            </div>

            <!-- Submit Button -->
            <button type="submit" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600;
        cursor: pointer; transition: 0.3s;">
                Create Event
            </button>
        </form>

    </div>

    <!-- Confirmation Modal Placeholder -->
    <!-- Add your modal/confirmation dialog here when user saves -->

</body>

</html>